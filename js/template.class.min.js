if(typeof Object.assign!="function"){(function(){Object.assign=function(e){if(e===undefined||e===null){throw new TypeError("Cannot convert undefined or null to object")}var b=Object(e);for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d!==undefined&&d!==null){for(var a in d){if(d.hasOwnProperty(a)){b[a]=d[a]}}}}return b}})()}var Template=function(b,a){this._sTemplate=b;this._aPattern=(typeof(a)!="undefined"&&a.length==2)?a:["[:",":]"]};Template.prototype.treatObjet=function(a,e,d){var c;for(var b in e){if(typeof(e[b])=="object"){c=(a!=="")?a+"."+b:b;this.treatObjet(c,e[b],e);delete d[b]}else{c=(a!=="")?a+"."+b:b;d[c]=e[b]}}};Template.prototype.compute=function(c,e){e=e||{};var f=JSON.parse(JSON.stringify(c)),a=Object.assign({},e),b=this._sTemplate,g="";this.treatObjet("",f,{});this.treatObjet("",a,{});for(var d in f){if(a[d]&&(typeof a[d]=="function")){g=a[d].call(c,f[d])}else{g=f[d]}b=b.split(this._aPattern[0]+d.toUpperCase()+this._aPattern[1]).join(g)}return b};